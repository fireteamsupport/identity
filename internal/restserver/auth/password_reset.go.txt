package authroutes

import (
    "github.com/labstack/echo/v4"
    "github.com/fireteamsupport/identity/internal/structs"
    "net/http"
)

func (a *auth) PasswordReset(c echo.Context) error {
    payload := new(structs.ReqPasswordReset)
    err, user := a.DB.GetUser(payload.UID)
    if err != nil {
        log.Error(err)
        return c.String(http.StatusOK, "may or may not exists we will never know")
    }

    verifyToken := a.DB.NewAccountVerification(user.UID)
    log.Info(verifyToken)
    //if err = a.Email.Verification(user.Email, user.Username, verifyToken); err != nil {
    //    log.Error(err)
    //    return c.String(500, err.Error())
    //}

    return c.String(http.StatusOK, "may or may not exists we will never know")
}
